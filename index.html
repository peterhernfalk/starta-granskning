<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Starta VITS-granskningstjänst</title>

    <script src="javascript/behaviour.js"></script>
    <script src="javascript/communication.js"></script>
</head>
<body>
<h1>Starta VITS-granskningstjänst</h1>
<br>FÖr närvarande fungerar tjänsten enbart för <b>riv.clinicalprocess.activity.request</b> och <b>riv.clinicalprocess.healthcond.certificate</b>

<form id= "domainform" action="" method="GET">
<div id="select_domain">
    <br><h2>1. Välj tjänstedomän</h2>
    <select id="domain_name_list" onchange="initDomainTagList();" onfocus="initDomainTagList(); this.selectedIndex = -1;">
    </select>
</div>

<div id="select_version" onclick="document.getElementById('start_service').style.display = 'block'";>
    <br><br><h2>2. Välj domänversion</h2>
<select id="domain_tag_list">
</select>
</div>
</form>

<br><br>
<div id="start_service">
    <h2>3. Starta önskad granskningstjänst</h2>
<button onclick="startIgranskning()">I-granskning</button>
<button onclick="startTgranskning()">T-granskning</button>
</div>

<script>
    var i_service_domain = "https://i-granskning.herokuapp.com"
    var i_service = "/granskningsinfo"

    var t_service_domain = "https://t-granskning.herokuapp.com"
    var t_service = "/granskningsinfo"

    document.getElementById("select_version").style.display = "none";
    document.getElementById("start_service").style.display = "none";


    var repo_listing_page_contents = "";
    var domainListPageString = "";
    domainNames = [];
    fetchedData = "";

    initDomainNameList();
    //domainListPageString = initDomainNameList();
    //console.log("index.html, domainListPageString:\n" + domainListPageString);
    //console.log("index.html, fetchedData: " + fetchedData + "  " + fetchedData.length);
    console.log("index.html, domainNames:\n" + domainNames + "  " + domainNames.length);
</script>

</body>
</html>